template: true
valuesFilePath: ./values.yml

resources:
  {{ range $i, $e := until 5 }}
  - name: monitor_cron_trigger{{$i}}
    type: CronTrigger
    configuration:
      interval: '*/5 * * * *' # Every 5 minutes
  {{ end }}

pipelines:
  - name: testcron
    steps:
      - name: basicly
        type: Bash
        configuration:
          runtime:
            type: host
          inputResources:
            - name: monitor_cron_trigger1
        execution:
          onExecute:
            - echo hi
      {{ range $i, $e := until 1 }}
      - name: basic{{$i}}
        type: Bash
        configuration:
          inputSteps:
            - name: basicly
        execution:
          onExecute:
            - echo hi
      {{ end }}
